---
title: 'API de configuración de anuncios SSAI de Video Cloud' descripción: En este tema, aprenderá a usar la API de inserción de anuncios del lado del servidor (SSAI) para crear y administrar configuraciones de anuncios.
parent: Video-On-Demand
---
 <h1>Esta página se ha movido; se le dirigirá a la <a href="https://apis.support.brightcove.com/ssai/getting-started/video-cloud-ssai-ad-config-api.html">nueva ubicacion</a> en 3 segundos. ¡Actualiza tus marcadores!</h1>
<script type="text/javascript">
var t = setTimeout (function () { window.location.href = 'https://apis.support.brightcove.com/ssai/getting-started/video-cloud-ssai-ad-config-api.html'; }, 3000);
</script>
<h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

<section id="top" class="bcls-section">
<p>Las configuraciones de anuncios definen varios aspectos de la reproducción de SSAI, incluidas las llamadas de anuncios, balizas y otras opciones de configuración. Una cuenta puede tener varias configuraciones y las configuraciones actuales no se pueden compartir entre cuentas.</p>

<aside class="bcls-aside bcls-aside--tip">Puede crear, enumerar y eliminar fácilmente configuraciones de anuncios desde Video Cloud Studio. Para obtener más detalles, consulte la <a href="https://studio.support.brightcove.com/admin/configuring-server-side-ad-settings.html">Configuración de la configuración de anuncios del lado del servidor</a> documento.</aside> <aside class="bcls-aside bcls-aside--information">Notas:
<ul>
	<li>Para utilizar SSAI, su cuenta de Video Cloud debe estar configurada para <a href="https://studio.support.brightcove.com/general/overview-dynamic-delivery.html">Entrega dinámica</a> y habilitado para SSAI. Comuníquese con su gerente de cuenta para comenzar a usar esta función.</li>
	<li>SSAI funciona con Video-on-Demand (VOD) y admite reproducción en vivo.</li>
	<li>Para obtener una lista de limitaciones, consulte la <a href="/getting-started/video-cloud-ssai-overview.html#Limitations">Descripción general de SSAI</a> documento.</li>
</ul>
</aside>
</section>

<section class="bcls-section">
<h2 id="General_information">Información general</h2>

<p>La siguiente información pertenece a todas las solicitudes de API SSAI.</p>

<h3>URL base</h3>

<p>La URL base de la API SSAI es:</p>

<pre>
<code class="language-http" translate="No">https://ssai.api.brightcove.com/v1</code></pre>

<h4>Ruta de la cuenta</h4>

<p>En todos los casos, se realizarán solicitudes para una cuenta de Video Cloud específica. Entonces, siempre agregará el término <code translate="No">accounts</code> seguido de la identificación de su cuenta a la URL base:</p>

<pre>
<code class="language-http" translate="No">https://ssai.api.brightcove.com/v1<strong>/accounts/</strong><span class="bcls-input">your account id</span></code></pre>

<h3>Autenticación</h3>

<p>La autenticación para solicitudes requiere un encabezado de autorización:</p>

<pre>
<code class="language-http" translate="No">Authorization: Bearer <span class="bcls-input">your access token</span></code></pre>

<p> <code translate="No">access_token</code> Es un token de acceso temporal de OAuth2 que debe obtenerse del servicio OAuth de Brightcove. Para obtener detalles sobre cómo obtener credenciales de cliente y usarlas para recuperar tokens de acceso, consulte la <a href="https://apis.support.brightcove.com/oauth/getting-started/overview-oauth-api-v4.html">Descripción general de Brightcove OAuth</a>.</p>

<h3>Operaciones</h3>

<p>Cuando solicite credenciales de cliente, deberá especificar el tipo de acceso a la cuenta o las operaciones que desea. La siguiente es una lista de las operaciones admitidas actualmente para la API SSAI:</p>

<ul>
	<li>Datos SSAI:
	<p><code translate="No">video-cloud/ssai/read</code><br />
	<code translate="No">video-cloud/ssai/all</code></p>
	</li>
</ul>
</section>

<section class="bcls-section">
<h2 id="Manage_ad_configurations">Administrar configuraciones de anuncios</h2>

<p>La API admite las siguientes solicitudes GET y PUT:</p>

<ul>
	<li><a href="#List_ad_configurations">Lista de configuraciones de anuncios</a></li>
	<li><a href="#Create_an_ad_configuration">Crea una configuración de anuncios</a></li>
	<li><a href="#Get_ad_configuration_details">Obtener detalles de configuración de anuncios</a></li>
	<li><a href="#Update_an_ad_configuration">Actualizar una configuración de anuncios</a></li>
</ul>

<h3 id="List_ad_configurations">Lista de configuraciones de anuncios</h3>

<p>Enumere las configuraciones de anuncios definidas para una cuenta.</p>

<table class="bcls-table">
	<tbody class="bcls-table__body">
		<tr>
			<th>Método</th>
			<td>OBTENER</td>
		</tr>
		<tr>
			<th>URL</th>
			<td>https://ssai.api.brightcove.com/v1/accounts/<span class="bcls-input">el id de tu cuenta</span>/ssai_configs</td>
		</tr>
		<tr>
			<th rowspan="2">Encabezados</th>
			<td>Autorización: Portador <span class="bcls-input">tu token de acceso</span></td>
		</tr>
		<tr>
			<td>Tipo de contenido: aplicación / json</td>
		</tr>
	</tbody>
</table>

<p>Respuesta de muestra:</p>

<pre class="line-numbers">
<code class="language-json" translate="No">{% raw %}[
  {
    "name": "VMAP Ad Server",
    "vmap_response_namespace": "bc",
    "config_id": "2ecc6beb-d6a4-4deb-a78e-37ac27e0f883",
    "account_id": "57838016001",
    "created_timestamp": "2017-07-24T19:28:34.976878586Z",
    "updated_timestamp": "2017-07-24T19:28:34.976878586Z",
    "ad_config": {
      "expected_ad_response": "dfp_ad_rules",
      "disable_server_beacons": false,
      "template_url": {
          "template": "http://solutions.brightcove.com/bcls/ads/simple-ad-rules?ip={{ system.ip_address }}&amp;vid={{ metadata.video_id }}&amp;ppid={{ system.unique_user_id }}&amp;p_vmap={{ url.p_vmap }}"
      }
    }
  }
]{% endraw %}</code></pre>

<h3 id="Create_an_ad_configuration">Crea una configuración de anuncios</h3>

<p>Cree una configuración de anuncios para una cuenta.</p>

<table class="bcls-table">
	<tbody class="bcls-table__body">
		<tr>
			<th>Método</th>
			<td>CORREO</td>
		</tr>
		<tr>
			<th>URL</th>
			<td>https://ssai.api.brightcove.com/v1/accounts/<span class="bcls-input">el id de tu cuenta</span>/ssai_configs</td>
		</tr>
		<tr>
			<th rowspan="2">Encabezados</th>
			<td>Autorización: Portador <span class="bcls-input">tu token de acceso</span></td>
		</tr>
		<tr>
			<td>Tipo de contenido: aplicación / json</td>
		</tr>
	</tbody>
</table>

<p>Cuerpo de muestra:</p>

<pre class="line-numbers">
<code class="language-json" translate="No">{% raw %}{
  "name": "VMAP Ad Server",
  "vmap_response_namespace": "bc",
  "ad_config": {
  	"expected_ad_response": "vast_3_0",
  	"disable_server_beacons": false,
    "round_up_cue_points": false,
  	"template_url": {
  		"template": "http://solutions.brightcove.com/bcls/ads/simple-ad-rules?ip={{ system.ip_address }}&amp;vid={{ metadata.video_id }}&amp;ppid={{ system.unique_user_id }}&amp;p_vmap={{ url.p_vmap }}"
  	}
  },
  "discontinuities": {
    "hls": [ "*" ]
  }
}{% endraw %}</code></pre>

<h3 id="Get_ad_configuration_details">Obtener detalles de configuración de anuncios</h3>

<p>Para una cuenta, obtenga los detalles de configuración de anuncios por config Id.</p>

<table class="bcls-table">
	<tbody class="bcls-table__body">
		<tr>
			<th>Método</th>
			<td>OBTENER</td>
		</tr>
		<tr>
			<th>URL</th>
			<td>https://ssai.api.brightcove.com/v1/accounts/<span class="bcls-input">tu ID de cuenta</span>/ssai_configs/<span class="bcls-input">tu id de configuración de anuncios</span></td>
		</tr>
		<tr>
			<th rowspan="2">Encabezados</th>
			<td>Autorización: Portador <span class="bcls-input">tu token de acceso</span></td>
		</tr>
		<tr>
			<td>Tipo de contenido: aplicación / json</td>
		</tr>
	</tbody>
</table>

<p>Respuesta de muestra:</p>

<pre class="line-numbers">
<code class="language-json" translate="No">{% raw %}{
  "name": "VMAP Ad Server",
  "vmap_response_namespace": "bc",
  "config_id": "2ecc6beb-d6a4-4deb-a78e-37ac27e0f883",
  "account_id": "57838016001",
  "created_timestamp": "2017-07-24T19:28:34.976878586Z",
  "updated_timestamp": "2017-07-24T19:28:34.976878586Z",
  "ad_config": {
    "expected_ad_response": "dfp_ad_rules",
    "disable_server_beacons": false,
    "template_url": {
        "template": "http://solutions.brightcove.com/bcls/ads/simple-ad-rules?ip={{ system.ip_address }}&amp;vid={{ metadata.video_id }}&amp;ppid={{ system.unique_user_id }}&amp;p_vmap={{ url.p_vmap }}"
    }
  },
  "beacon_templates": [
      {
        "type": "content_start",
        "template_url": {
          "template": "https://myserver.com/beaconRX/{{metadata.video_id}}/load?position=load&amp;sid={{system.xfp.unique_user_id}}&amp;jid={{metadata.video_id}}&amp;rnd32={{sytem.random_number_32}}&amp;bid={{system.uuid}}&amp;t={{system.timestamp_utc}}&amp;ua={{system.user_agent}}&amp;ip={{system.ip_address}}&amp;ref={{system.referer}}"
        }
      },
      {
        "type": "content_midpoint",
        "template_url": {
          "template": "https://myserver.com/beaconRX/{{metadata.video_id}}/load?position=load&amp;sid={{system.xfp.unique_user_id}}&amp;jid={{metadata.video_id}}&amp;rnd32={{sytem.random_number_32}}&amp;bid={{system.uuid}}&amp;t={{system.timestamp_utc}}&amp;ua={{system.user_agent}}&amp;ip={{system.ip_address}}&amp;ref={{system.referer}}"
        }
      },
      {
        "type": "ad_start",
        "template_url": {
          "template": "https://myserver.com/beaconRX/{{metadata.video_id}}/load?position=load&amp;sid={{system.xfp.unique_user_id}}&amp;jid={{metadata.video_id}}&amp;rnd32={{sytem.random_number_32}}&amp;bid={{system.uuid}}&amp;t={{system.timestamp_utc}}&amp;ua={{system.user_agent}}&amp;ip={{system.ip_address}}&amp;ref={{system.referer}}"
        }
      },
      {
        "type": "content_complete",
        "template_url": {
          "template": "https://myserver.com/beaconRX/{{metadata.video_id}}/load?position=load&amp;sid={{system.xfp.unique_user_id}}&amp;jid={{metadata.video_id}}&amp;rnd32={{sytem.random_number_32}}&amp;bid={{system.uuid}}&amp;t={{system.timestamp_utc}}&amp;ua={{system.user_agent}}&amp;ip={{system.ip_address}}&amp;ref={{system.referer}}"
        }
      }
    ],
    "discontinuities": {
      "dash": [
        "*"
      ],
      "hls": [
        "*"
      ]
    },
    "extend_beacon_guard_ttl": true
  }
}{% endraw %}</code></pre>

<h3 id="Update_an_ad_configuration">Actualizar una configuración de anuncios</h3>

<p>Actualice la configuración de un anuncio por Id. De configuración.</p>

<table class="bcls-table">
	<tbody class="bcls-table__body">
		<tr>
			<th>Método</th>
			<td>PONER</td>
		</tr>
		<tr>
			<th>URL</th>
			<td>https://ssai.api.brightcove.com/v1/accounts/<span class="bcls-input">tu ID de cuenta</span>/ssai_configs/<span class="bcls-input">tu id de configuración de anuncios</span></td>
		</tr>
		<tr>
			<th rowspan="2">Encabezados</th>
			<td>Autorización: Portador <span class="bcls-input">tu token de acceso</span></td>
		</tr>
		<tr>
			<td>Tipo de contenido: aplicación / json</td>
		</tr>
		<tr>
			<th>Cuerpo de muestra</th>
			<td>
			<pre>
<code class="language-json" translate="No">{
    "name": "VMAP Ad Server - updated"
}</code></pre>
			</td>
		</tr>
	</tbody>
</table>

<p>Respuesta de muestra:</p>

<pre class="line-numbers">
<code class="language-json" translate="No">{% raw %}{
  "name": "VMAP Ad Server - updated",
  "vmap_response_namespace": "bc",
  "config_id": "2ecc6beb-d6a4-4deb-a78e-37ac27e0f883",
  "account_id": "57838016001",
  "created_timestamp": "2017-07-24T19:28:34.976878586Z",
  "updated_timestamp": "2017-07-24T19:28:34.976878586Z",
  "ad_config": {
    "expected_ad_response": "dfp_ad_rules",
    "disable_server_beacons": false,
    "template_url": {
      "template": "http://solutions.brightcove.com/bcls/ads/simple-ad-rules?ip={{ system.ip_address }}&amp;vid={{ metadata.video_id }}&amp;ppid={{ system.unique_user_id }}&amp;p_vmap={{ url.p_vmap }}"
    }
  }
}{% endraw %}</code></pre>
</section>

<section class="bcls-section">
<h2 id="Configuration_field_details">Detalles del campo de configuración</h2>

<p>Esta tabla define los campos de configuración de anuncios que se utilizan en la sección del cuerpo de una solicitud.</p>

<table class="bcls-table">
	<thead class="bcls-table__head">
		<tr>
			<th>Campo</th>
			<th>Tipo</th>
			<th>Descripción</th>
		</tr>
	</thead>
	<tbody class="bcls-table__body">
		<tr>
			<td><code translate="No">name</code></td>
			<td>Cuerda</td>
			<td>Nombre legible por humanos</td>
		</tr>
		<tr>
			<td><code translate="No">vmap_response_namespace</code></td>
			<td>Cuerda</td>
			<td>Ajusta la salida de VMAP para usar el formato de espacio de nombres Unicorn Once heredado o para usar el nuevo formato de espacio de nombres de Brightcove.<br />
			<br />
			Valores: <code translate="No">uo</code>, <code translate="No">bc</code> Predeterminado: <code translate="No">bc</code></td>
		</tr>
		<tr>
			<td><code translate="No">description</code></td>
			<td>Cuerda</td>
			<td>Descripción legible por humanos</td>
		</tr>
		<tr>
			<td><code translate="No">ad_config.expected_ad_response</code></td>
			<td>Cuerda</td>
			<td>Qué tecnología usar para analizar la respuesta. <sup><a href="#n1">[1]</a></sup><br />
			<br />
			Valores:
			<ul>
				<li><code translate="No">dfp_ad_rules</code></li>
				<li><code translate="No">dfp_vmap</code></li>
				<li><code translate="No">smart_xml</code></li>
				<li><code translate="No">vast_3_0</code></li>
			</ul>
			</td>
		</tr>
		<tr>
			<td><code translate="No">ad_config.disable_server_beacons</code></td>
			<td>Booleano</td>
			<td>Indica si se debe deshabilitar la activación del lado del servidor de impresiones de anuncios / balizas<br />
			<br />
			Cuando se establece en <code translate="No">true</code>, SSAI no activará ninguna baliza del lado del servidor e incluirá todas las balizas en la salida de VMAP.<br />
			<br />
			Cuando se establece en <code translate="No">false</code>, SSAI activará las balizas a las que puede ser del lado del servidor e incluirá cualquiera que no pueda en la salida VMAP.</td>
		</tr>
		<tr>
			<td><code translate="No">ad_config.round_up_cue_points</code></td>
			<td>Booleano</td>
			<td>Indica si se redondea al siguiente fotograma clave al elegir una posición cercana para insertar anuncios.<br />
			<br />
			Valor predeterminado: <code translate="No">false</code>, que elige el fotograma clave más cercano a la posición de anuncio deseada.</td>
		</tr>
		<tr>
			<td><code translate="No">ad_config.template_url.template</code></td>
			<td>Cuerda</td>
			<td>Plantilla de etiqueta publicitaria. Variables disponibles descritas en una sección posterior.</td>
		</tr>
		<tr>
			<td><code translate="No">ad_config.template_url.defaults</code></td>
			<td>Objeto</td>
			<td>Mapa de cadena a cadena que define el valor predeterminado para usar en el caso de que no se proporcione un parámetro de URL.<br />
			<br />
			Puede ser literal <code translate="No">{ "url.foo": "SomeString" }</code><br />
			<br />
			O hacer referencia a otra variable <code translate="No">{% raw %}{ "url.foo": "{{ metadata.title_id }}" }{% endraw %}</code></td>
		</tr>
		<tr>
			<td><code translate="No">discontinuities.dash</code> <sup><a href="#n2">[2]</a></sup></td>
			<td>[]Cuerda</td>
			<td>Controla qué versiones de tablero entregar manifiestos de tablero de períodos múltiples.<br />
			<br />
			Ajustado a <code translate="No">["*"]</code> para ofrecer un guión de varios períodos para todas las versiones<br />
			<br />
			Lista vacía para nunca<br />
			<br />
			Ejemplo: <code translate="No">["live-timeline"]</code> para entregar para línea de tiempo en vivo pero no para hbbtv</td>
		</tr>
		<tr>
			<td><code translate="No">discontinuities.hls</code> <sup><a href="#n2">[2]</a></sup></td>
			<td>[]Cuerda</td>
			<td>Controla qué versiones de hls entregar con discontinuidades.<br />
			<br />
			Ajustado a <code translate="No">["*"]</code> a la entrega con discontinuidades en todas las versiones de HLS<br />
			<br />
			Lista vacía para nunca<br />
			<br />
			Ejemplo: <code translate="No">["v4","v5"]</code> para entregar para v4 y v5 pero no para v3</td>
		</tr>
		<tr>
			<td><code translate="No">beacon_templates</code></td>
			<td>Formación</td>
			<td>Una serie de balizas para disparar (ejemplo: balizas de terceros)</td>
		</tr>
		<tr>
			<td><code translate="No">beacon_templates[].type</code></td>
			<td>Cuerda</td>
			<td>
			<p>Tipo de baliza para disparar. Valores:</p>

			<ul>
				<li><code translate="No">content_start</code></li>
				<li><code translate="No">content_first_quartile</code></li>
				<li><code translate="No">content_midpoint</code></li>
				<li><code translate="No">content_third_quartile</code></li>
				<li><code translate="No">content_complete</code></li>
				<li><code translate="No">content_quartiles</code></li>
				<li><code translate="No">content_interval</code></li>
				<li><code translate="No">ad_start</code></li>
				<li><code translate="No">ad_first_quartile</code></li>
				<li><code translate="No">ad_midpoint</code></li>
				<li><code translate="No">ad_third_quartile</code></li>
				<li><code translate="No">ad_complete</code></li>
				<li><code translate="No">ad_quartiles</code></li>
				<li><code translate="No">ad_break_start</code></li>
				<li><code translate="No">ad_break_end</code></li>
				<li><code translate="No">segment_start</code></li>
				<li><code translate="No">segment_end</code></li>
				<li><code translate="No">on_load</code></li>
			</ul>
			</td>
		</tr>
		<tr>
			<td><code translate="No">beacon_templates[].template_url.template</code></td>
			<td>Cuerda</td>
			<td>Plantilla de URL de baliza</td>
		</tr>
		<tr>
			<td><code translate="No">extend_beacon_guard_ttl</code></td>
			<td>Booleano</td>
			<td>Establece la duración del TTL (tiempo de vida) de Beacon Guard a la duración del TTL de la sesión del contenido. De lo contrario, el valor predeterminado es 1 minuto.</td>
		</tr>
	</tbody>
</table>

<aside class="bcls-aside bcls-aside--information">
<p>Las siguientes notas se refieren a los campos de la tabla anterior.</p>

<p id="n1"><sup>[1]</sup> Cuando <code translate="No">expected_ad_response</code> se establece en <code translate="No">vast_3_0</code>, SSAI realiza una llamada VAST por cada punto de referencia de anuncio definido en Video Cloud. Para VMAP y reglas publicitarias, SSAI realiza solicitudes basadas en las pausas publicitarias definidas en la respuesta publicitaria inicial.</p>

<p id="n2"><sup>[2]</sup> Las etiquetas de discontinuidad indican un cambio en la codificación de la velocidad de fotogramas entre el contenido de video y los segmentos de anuncios. Le dicen al sistema que reconstruya la cadena de renderizado. Para SSAI escalable, el reproductor de video debe poder reproducir HLS con etiquetas de discontinuidad y MPEG DASH que contenga múltiples períodos.</p>
</aside>
</section>

<section class="bcls-section">
<h2 id="Ad_variables">Variables publicitarias</h2>

<p>Las variables de la URL de la <strong>plantilla</strong> se identifican mediante llaves dobles (<code translate="No">{% raw %}{{ … }}{% endraw %}</code>) con espacios en blanco opcionales antes y después de la ruta de la variable. Todas las variables tienen como prefijo uno de los tres espacios de nombres:</p>

<ul>
	<li><a href="#System_variables">sistema</a></li>
	<li><a href="#URL_variables">url</a></li>
	<li><a href="#Metadata_variables">metadatos</a></li>
</ul>

<h3 id="System_variables">Variables del sistema</h3>

<p>Las variables del sistema son proporcionadas por el sistema SSAI y pueden ser información sobre el usuario final o variables auxiliares para generar valores aleatorios. Los valores deben estar codificados en URI antes de insertarse en las plantillas de URL.</p>

<p>Las variables del sistema se identifican como: <code translate="No">{% raw %}{{system.*}}{% endraw %}</code></p>

<table class="bcls-table">
	<thead class="bcls-table__head">
		<tr>
			<th>Campo</th>
			<th>Descripción</th>
		</tr>
	</thead>
	<tbody class="bcls-table__body">
		<tr>
			<td><code translate="No">ip_address</code></td>
			<td>Dirección IP del usuario final</td>
		</tr>
		<tr>
			<td><code translate="No">random_number_32</code></td>
			<td>Entero aleatorio de 32 bits</td>
		</tr>
		<tr>
			<td><code translate="No">random_guid</code></td>
			<td>UUID aleatorio</td>
		</tr>
		<tr>
			<td><code translate="No">referer</code></td>
			<td>Valor del encabezado Referer del usuario final</td>
		</tr>
		<tr>
			<td><code translate="No">timestamp_utc</code></td>
			<td>Hora actual como marca de tiempo de Unix</td>
		</tr>
		<tr>
			<td><code translate="No">unique_user_id</code></td>
			<td>MD5 (dirección_ip + agente_usuario)</td>
		</tr>
		<tr>
			<td><code translate="No">unix_timestamp</code></td>
			<td>Hora actual como marca de tiempo de Unix (segundos)</td>
		</tr>
		<tr>
			<td><code translate="No">user_agent</code></td>
			<td>Valor del encabezado del agente de usuario del usuario final</td>
		</tr>
		<tr>
			<td><code translate="No">uuid</code></td>
			<td>Uuid aleatorio</td>
		</tr>
		<tr>
			<td><code translate="No">x_forwarded_for</code></td>
			<td>Valor del encabezado X-Fordered-For del usuario final</td>
		</tr>
		<tr>
			<td><code translate="No">xfp.correlator</code></td>
			<td>Entero aleatorio de 64 bits</td>
		</tr>
		<tr>
			<td><code translate="No">xfp.ip_address</code></td>
			<td>Dirección IP del usuario final</td>
		</tr>
		<tr>
			<td><code translate="No">xfp.unique_user_id</code></td>
			<td>MD5 (dirección_ip + agente_usuario)</td>
		</tr>
		<tr>
			<td><code translate="No">xfp.scor</code></td>
			<td>Entero aleatorio de 64 bits</td>
		</tr>
	</tbody>
</table>

<h3 id="URL_variables">Variables de URL</h3>

<p>Los parámetros de consulta proporcionados en el punto de entrada VMAP / Manifiesto están disponibles en el <code translate="No">url</code> espacio de nombres. A diferencia de las variables en otros espacios de nombres, estos parámetros no están codificados en URL cuando se insertan en la plantilla. Si los valores de las variables deben codificarse en URL que van al proveedor de anuncios, deberán codificarse en URL doble en la URL del punto de entrada.</p>

<p>Las variables de URL se identifican como: <code translate="No">{% raw %}{{url.*}}{% endraw %}</code></p>

<h3 id="Metadata_variables">Variables de metadatos</h3>

<p>Las variables de metadatos son aquellas que describen el contenido del video, derivadas de las fuentes de datos de Video Cloud y Dynamic Delivery. Los valores se codifican en URL antes de insertarse en las plantillas de URL.</p>

<p>Las variables de metadatos se identifican como: <code translate="No">{% raw %}{{metadata.*}}{% endraw %}</code></p>

<table class="bcls-table">
	<thead class="bcls-table__head">
		<tr>
			<th>Campo</th>
			<th>Descripción</th>
		</tr>
	</thead>
	<tbody class="bcls-table__body">
		<tr>
			<td><code translate="No">ad_keys</code></td>
			<td>Cadena de texto de formato libre que se puede agregar y editar en el módulo de medios de Video Cloud Studio</td>
		</tr>
		<tr>
			<td><code translate="No">{% raw %}custom_fields.{field_name}{% endraw %}</code></td>
			<td>Campos personalizados de Video Cloud</td>
		</tr>
		<tr>
			<td><code translate="No">long_description</code></td>
			<td>Descripción detallada de Video Cloud</td>
		</tr>
		<tr>
			<td><code translate="No">name</code></td>
			<td>Nombre del video de Video Cloud</td>
		</tr>
		<tr>
			<td><code translate="No">reference_id</code></td>
			<td>ID de referencia de Video Cloud</td>
		</tr>
		<tr>
			<td><code translate="No">tags</code></td>
			<td>Lista separada por comas de las etiquetas de Video Cloud para el video</td>
		</tr>
		<tr>
			<td><code translate="No">title.duration</code></td>
			<td>Duración del contenido en segundos</td>
		</tr>
		<tr>
			<td><code translate="No">title.id</code></td>
			<td>ID de título de Dynamic Delivery</td>
		</tr>
		<tr>
			<td><code translate="No">title.name</code></td>
			<td>Nombre del título de Dynamic Delivery</td>
		</tr>
		<tr>
			<td><code translate="No">video_id</code></td>
			<td>ID de video de Video Cloud</td>
		</tr>
		<tr>
			<td colspan="2"><em>Otros pares clave / valor de Video Cloud también estarían aquí</em></td>
		</tr>
	</tbody>
</table>
</section>

<section class="bcls-section">
<h2 id="Entrypoint_URL_parameters">Parámetros de URL de punto de entrada</h2>

<p>Hay un puñado de parámetros de consulta que se pueden agregar a la URL del punto de entrada SSAI (VMAP o manifiesto) para modificar algunos comportamientos:</p>

<table class="bcls-table">
	<thead class="bcls-table__head">
		<tr>
			<th width="25%">Parámetro</th>
			<th>Descripción</th>
		</tr>
	</thead>
	<tbody class="bcls-table__body">
		<tr>
			<td><code translate="No">?rule=sd-only</code></td>
			<td>Filtra cualquier reproducción de video que tenga una altura menor que el umbral establecido en la Configuración de la cuenta</td>
		</tr>
		<tr>
			<td><code translate="No">?rule=discos-enabled</code></td>
			<td>Habilite la reproducción con discontinuidades en HLS y MultiPeriods en Dash. Tiene prioridad sobre la configuración de discontinuidades en Playback Config</td>
		</tr>
		<tr>
			<td><code translate="No">?rule=discos-disabled</code></td>
			<td>Deshabilite la reproducción con discontinuidades en HLS y múltiples períodos en Dash. Tiene prioridad sobre la configuración de discontinuidades en Playback Config</td>
		</tr>
	</tbody>
</table>
</section>

<section class="bcls-section">
<h2 id="Configuration_notes">Notas de configuración</h2>

<ol>
	<li>La precarga de anuncios no debe realizarse con SSAI. La razón de esto es que si carga previamente, el reproductor informará una impresión de anuncio y probablemente las balizas del primer cuartil antes de que se reproduzca el video. Esto podría dar lugar a análisis de anuncios inexactos. Si configura SSAI en Studio, esto se hará automáticamente, pero si configura SSAI manualmente, debe tener en cuenta este problema.</li>
	<li>Si el reproductor web usa SSAI, y una de sus motivaciones para hacerlo es evitar los bloqueadores de anuncios, debe usar balizas del lado del servidor. Las balizas del lado del cliente no deben usarse ya que estarán bloqueadas.</li>
</ol>
</section>

<section class="bcls-section">
<h2 id="Client_side_macros">Macros del lado del cliente</h2>

<p>Utilizar el <code translate="No">page</code> prefijo cuando desee utilizar macros de anuncios del lado del cliente. Estas macros le permiten utilizar variables en VMAP y en las URL del servidor. Para obtener más información sobre la macro de <a href="https://player.support.brightcove.com/plugins/advertising-ima3-plugin.html#Ad_macros_and_the_serverUrl">anuncios, consulte las macros de anuncios y la</a> sección ServerURL del documento Publicidad con el complemento IMA3.</p>
<!-- <p>
              When you prefix an Ad variable with , then a client-side macro will be appended to the end of the VMAP and SRC fields in the catalog response, when SSAI is being used. Then, the Brightcove player will run those strings through the client-side macro replacement logic.
            </p> -->

<p>Las macros del lado del cliente tienen el prefijo: <code translate="No">{% raw %}{{page.*}}{% endraw %}</code></p>

<p>Por ejemplo, para agregar el <code translate="No">document.referrer</code> y un <code translate="No">pageVariable</code> Variable de ventana DOM, los antepondría con <code translate="No">page</code> en la plantilla de anuncio de la siguiente manera:</p>

<pre>
<code class="language-html" translate="No">{% raw %}https://adserver.com/{{page.document.referrer}}/{{page.pageVariable.whateverIwant}}{% endraw %}</code></pre>

<p>Vuelve la API de reproducción <code translate="No">document.referrer</code> y <code translate="No">pageVariable.whateverIwant</code> adjunto a las URL de VMAP y SRC. El reproductor de Brightcove luego ejecuta su lógica de reemplazo de macros del lado del cliente para reemplazar los valores apropiados, antes de enviar la solicitud:</p>

<pre>
<code class="language-html" translate="No">{% raw %}https://bolt-prefix/blah.vmap?document.referrer={document.referrer}&amp;pageVariable.whateverIwant={pageVariable.whateverIwant}{% endraw %}</code></pre>
</section>

<section class="bcls-section">
<h2 id="Ad_error_beacons">Balizas de error de anuncios</h2>

<p>Las balizas de error de anuncios de VAST cuando se usa SSAI pueden ser útiles para encontrar y solucionar problemas de manera proactiva con el flujo de trabajo de sus anuncios. Para obtener más detalles, consulte la <a href="/vod/guides/ad-error-beacons-ssai.html">Balizas de error de anuncios con SSAI</a> documento.</p>
</section>
</article>